<html>
  <head>
    <title>Smyle Sign up</title>
    <link rel="stylesheet" href="../assets/css/style.css">
  </head>

    <body class="bg">
        <img src="../assets/img/white.png" alt="Logo" class="icon" >
      <div class="box">
        <img src="../assets/img/signup.png" alt="" id="side-up">
        <span class="signin">
          <p class="text-head">Sign up</p>
          <p class="text-shead up">Already have an account? <a href="signin.html">Sign in</a></p>
          <form onsubmit="getData()">
            <input type="text"  placeholder="Username" class="textbox" id="name" required  >
            <br>
            <input type="email" placeholder="Mail ID" class="textbox" id="id" required>
            <br>
            <input type="password" placeholder="Password" class="textbox" id="pass" minlength="8" maxlength="20" required>
            <br>
            <input type="password" placeholder="Confirm Password" class="textbox" id="cpass" minlength="8" maxlength="20" required>
            <br>
            <label id="invalid" class="invalid"></label>
            <br>
            <input type="checkbox" style="margin-left: 20px; margin-top: 30px;" required>
            <label style="font-size: 12px;">I agree to the Smyle
              <a href="t&c.html" >Terms of Use</a>.
            </label>

            <br>
            <button type="submit" class="button-up" onsubmit="checkPassword()">Create account</button>
            
          </form>

          

        </span>


      </div>
      <script type="text/javascript">

        let list=[];
        function getData(){
          event.preventDefault();
          let username=document.getElementById("name").value;
          let mail=document.getElementById("id").value;
          let pass=document.getElementById("pass").value;
          let cpass=document.getElementById("cpass").value;

        let obj = {
          "name":username,
          "mailid":mail,
          "password":pass,
          "confirmPassword":cpass,
        }

          list.push(obj);

          const string = JSON.stringify(list);

          localStorage.setItem("signup",string);
        
          checkPassword();

        }
        
        function checkPassword(){
          let pass=document.getElementById("pass").value;
          let cpass=document.getElementById("cpass").value;
          if( pass != cpass){
            document.getElementById("invalid").innerHTML="Those passwords didn't match, Try again."
          } 
          else{
          let username=document.getElementById("name").value;
            alert( "Hi " +username+ ", Welcome to Smyle Designs ")
            window.location.href="../index.html";

          }

        }


        function getItem(){

          let getLocal=localStorage.getItem("signup");
          let parse=JSON.parse(getLocal);
          if(parse){
            list=parse;
          }

        }
        getItem();

        function myFunction() {
          document.getElementById("demo").innerHTML;
        }

        myFunction();

      </script>
   </body>
 </center>
</html>
